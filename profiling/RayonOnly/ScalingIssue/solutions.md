Tests showed that Fastiron's scalability is worse than Quicksilver's (using OpenMP & MPI). This file contains 
the raw perf reports used to understand what is going on. The simulation is stopped at 20 cycles.

This file documents attempt at implementing a better parallel workflow.

perf command used for what is in here: 

```
perf stat -d ./target/release/fastiron -i input_files/QS_originals/CTS2_Benchmark/CTS2_1.inp -r 0
```

## par_bridge implementation

## custom iterator implementation (cii)

```

[Tally Summary]
cycle   |  start |   source |       rr |      split |     absorb |    scatter |    fission |    produce |  collision |     escape |     census |    num_seg |   scalar_flux | ppControl (s) | cycleTracking (s) | cycleSync (s)
      0 |      0 |     4096 |        0 |      36864 |     154707 |    1408830 |     124185 |     248370 |    1687722 |          0 |      10438 |    3392593 |    1.243407e8 |  1.416e-2     |    9.99492e-1     |  1.059e-3
      1 |  10438 |     4096 |        0 |      26438 |     183799 |    1605682 |     146693 |     293386 |    1936174 |          0 |       3866 |    3865559 |    1.585038e8 |  9.392e-3     |     1.15392e0     |  6.717e-3
      2 |   3866 |     4096 |        0 |      33010 |     171783 |    1512653 |     136828 |     273656 |    1821264 |          0 |       6017 |    3648944 |    1.564038e8 |  6.162e-3     |     1.08458e0     |  6.723e-3
      3 |   6017 |     4096 |        0 |      30841 |     178809 |    1566842 |     143287 |     286574 |    1888938 |          0 |       5432 |    3779548 |    1.638133e8 |  5.977e-3     |     1.12783e0     |  6.546e-3
      4 |   5432 |     4096 |      380 |      31492 |     178066 |    1570321 |     142603 |     285206 |    1890990 |          0 |       5177 |    3782522 |    1.647084e8 |  6.836e-3     |     1.14591e0     |  6.493e-3
      5 |   5177 |     4096 |       48 |      31693 |     176614 |    1553914 |     141209 |     282418 |    1871737 |          0 |       5513 |    3746309 |    1.590727e8 |  6.575e-3     |     1.11968e0     |  6.510e-3
      6 |   5513 |     4096 |      190 |      31329 |     177471 |    1559110 |     141882 |     283764 |    1878463 |          0 |       5159 |    3756829 |    1.613427e8 |  6.636e-3     |     1.11881e0     |  6.418e-3
      7 |   5159 |     4096 |      217 |      31719 |     173108 |    1517303 |     137766 |     275532 |    1828177 |          0 |       5415 |    3656578 |    1.574642e8 |  7.128e-3     |     1.09222e0     |  6.723e-3
      8 |   5415 |     4096 |      385 |      31411 |     177985 |    1565481 |     142784 |     285568 |    1886250 |          0 |       5336 |    3775419 |    1.625914e8 |  6.853e-3     |     1.12415e0     |  6.421e-3
      9 |   5336 |     4096 |      256 |      31490 |     181277 |    1602776 |     146073 |     292146 |    1930126 |          0 |       5462 |    3861393 |    1.619977e8 |  6.706e-3     |     1.14994e0     |  6.503e-3
     10 |   5462 |     4096 |      288 |      31415 |     177409 |    1563137 |     142357 |     284714 |    1882903 |          0 |       5633 |    3765652 |    1.630466e8 |  6.703e-3     |     1.12671e0     |  6.458e-3
     11 |   5633 |     4096 |      317 |      31280 |     179148 |    1583128 |     143899 |     287798 |    1906175 |          0 |       5443 |    3812234 |    1.646089e8 |  7.559e-3     |     1.13152e0     |  6.493e-3
     12 |   5443 |     4096 |      322 |      31457 |     174239 |    1531458 |     139131 |     278262 |    1844828 |          0 |       5566 |    3691209 |    1.590992e8 |  6.656e-3     |     1.10106e0     |  6.421e-3
     13 |   5566 |     4096 |      372 |      31297 |     175457 |    1541523 |     140260 |     280520 |    1857240 |          0 |       5390 |    3714748 |    1.623124e8 |  6.654e-3     |     1.10532e0     |  6.569e-3
     14 |   5390 |     4096 |      388 |      31511 |     178713 |    1580814 |     143676 |     287352 |    1903203 |          0 |       5572 |    3806125 |    1.664258e8 |  6.620e-3     |     1.13419e0     |  6.470e-3
     15 |   5572 |     4096 |      281 |      31275 |     174212 |    1528725 |     139086 |     278172 |    1842023 |          0 |       5536 |    3687297 |    1.604681e8 |  6.631e-3     |     1.09657e0     |  6.443e-3
     16 |   5536 |     4096 |      257 |      31328 |     179009 |    1576929 |     143682 |     287364 |    1899620 |          0 |       5376 |    3799640 |    1.636498e8 |  6.773e-3     |     1.12867e0     |  6.435e-3
     17 |   5376 |     4096 |      156 |      31460 |     174456 |    1531470 |     138851 |     277702 |    1844777 |          0 |       5171 |    3692319 |    1.569459e8 |  6.610e-3     |     1.10112e0     |  6.571e-3
     18 |   5171 |     4096 |      342 |      31681 |     175928 |    1547630 |     140753 |     281506 |    1864311 |          0 |       5431 |    3727856 |    1.616425e8 |  6.646e-3     |     1.10908e0     |  6.422e-3
     19 |   5431 |     4096 |      325 |      31532 |     178796 |    1570020 |     143375 |     286750 |    1892191 |          0 |       5313 |    3786618 |    1.626914e8 |  6.718e-3     |     1.12739e0     |  6.511e-3
^C./target/release/fastiron: Interrompre

 Performance counter stats for './target/release/fastiron -i input_files/QS_originals/CTS2_Benchmark/CTS2_1.inp -r 0':

        177 272,85 msec task-clock                #    7,693 CPUs utilized          
            19 939      context-switches          #  112,476 /sec                   
             1 236      cpu-migrations            #    6,972 /sec                   
            14 990      page-faults               #   84,559 /sec                   
   281 662 502 070      cycles                    #    1,589 GHz                      (49,99%)
   271 123 729 701      instructions              #    0,96  insn per cycle           (62,47%)
    42 605 147 225      branches                  #  240,337 M/sec                    (62,48%)
       700 074 741      branch-misses             #    1,64% of all branches          (62,50%)
    64 291 220 004      L1-dcache-loads           #  362,668 M/sec                    (62,50%)
    10 779 073 055      L1-dcache-load-misses     #   16,77% of all L1-dcache accesses  (62,53%)
     2 071 997 397      LLC-loads                 #   11,688 M/sec                    (50,00%)
       287 815 517      LLC-load-misses           #   13,89% of all LL-cache accesses  (50,01%)

      23,042204819 seconds time elapsed

     176,803435000 seconds user
       0,519598000 seconds sys

```

## cii + chunks